.chess-piece {
  overflow: hidden !important;
}

.element-image-bg {
  position: absolute;
  inset: 0;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  opacity: 0.5;
  pointer-events: none;
  z-index: 1;
  mix-blend-mode: screen;
}

.element-image-fire { animation: element-pulse-simple 1.5s ease-in-out infinite alternate; }
.element-image-water { animation: element-pulse-simple 2s ease-in-out infinite; }
.element-image-wind { animation: element-pulse-simple 2s ease-in-out infinite; }
.element-image-earth { animation: element-pulse-simple 2.5s ease-in-out infinite; }
.element-image-holy { animation: element-pulse-simple 1.2s ease-in-out infinite alternate; }
.element-image-shadow { animation: element-pulse-simple 2s ease-in-out infinite; }

@keyframes element-pulse-simple {
  0%, 100% { opacity: 0.4; }
  50% { opacity: 0.6; }
}

.element-overlay {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 2;
  border-radius: inherit;
}

.element-overlay-fire {
  background: radial-gradient(ellipse at 50% 100%, rgba(255, 69, 0, 0.5) 0%, transparent 70%);
}

.element-overlay-water {
  background: radial-gradient(ellipse at 50% 30%, rgba(0, 191, 255, 0.4) 0%, transparent 70%);
}

.element-overlay-wind {
  background: radial-gradient(ellipse at 50% 50%, rgba(50, 205, 50, 0.3) 0%, transparent 80%);
}

.element-overlay-earth {
  background: radial-gradient(ellipse at 50% 80%, rgba(139, 69, 19, 0.4) 0%, transparent 70%);
}

.element-overlay-holy {
  background: radial-gradient(circle at 50% 50%, rgba(255, 215, 0, 0.5) 0%, transparent 60%);
}

.element-overlay-shadow {
  background: radial-gradient(circle at 50% 50%, rgba(75, 0, 130, 0.5) 0%, transparent 70%);
}

.element-effect-layer {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 5;
  border-radius: inherit;
  overflow: hidden;
}

.element-effect-fire {
  background: 
    radial-gradient(ellipse at 50% 100%, rgba(255, 100, 0, 0.6) 0%, transparent 60%),
    radial-gradient(ellipse at 50% 80%, rgba(255, 200, 0, 0.3) 0%, transparent 50%);
  animation: fire-dance 0.8s ease-in-out infinite alternate;
}

.element-effect-water {
  background: 
    radial-gradient(ellipse at 50% 0%, rgba(0, 150, 255, 0.5) 0%, transparent 70%),
    linear-gradient(180deg, rgba(0, 191, 255, 0.3) 0%, transparent 60%);
  animation: water-shimmer 2s ease-in-out infinite;
}

.element-effect-wind {
  background: 
    radial-gradient(ellipse at 50% 50%, rgba(50, 205, 50, 0.4) 0%, transparent 60%);
  animation: wind-pulse 2s ease-in-out infinite;
}

.element-effect-wind::before {
  content: '';
  position: absolute;
  inset: 10%;
  border: 2px solid rgba(50, 205, 50, 0.5);
  border-radius: 50%;
  animation: wind-ring 2s linear infinite;
}

.element-effect-earth {
  background: 
    radial-gradient(ellipse at 50% 100%, rgba(139, 69, 19, 0.5) 0%, transparent 60%),
    radial-gradient(circle at 50% 50%, rgba(205, 133, 63, 0.3) 0%, transparent 50%);
  animation: earth-pulse 2s ease-in-out infinite;
}

.element-effect-holy {
  background: radial-gradient(circle at 50% 50%, rgba(255, 215, 0, 0.5) 0%, transparent 70%);
  animation: holy-glow 1s ease-in-out infinite alternate;
}

.element-effect-shadow {
  background: radial-gradient(circle at 50% 50%, rgba(75, 0, 130, 0.5) 0%, transparent 70%);
  animation: shadow-throb 1.5s ease-in-out infinite;
}

.element-badge-large {
  position: absolute;
  top: 2px;
  right: 2px;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 3px solid rgba(255, 255, 255, 0.9);
  z-index: 40;
  animation: badge-pulse 1.5s ease-in-out infinite;
}

.element-badge-fire { animation: badge-pulse-fire 1s ease-in-out infinite alternate; }
.element-badge-water { animation: badge-pulse-water 1.5s ease-in-out infinite; }
.element-badge-wind { animation: badge-spin 3s linear infinite; }
.element-badge-earth { animation: badge-pulse-earth 2s ease-in-out infinite; }
.element-badge-holy { animation: badge-pulse-holy 0.8s ease-in-out infinite alternate; }
.element-badge-shadow { animation: badge-pulse-shadow 1.5s ease-in-out infinite; }

@keyframes badge-pulse-fire { 0% { transform: scale(1); } 100% { transform: scale(1.15); } }
@keyframes badge-pulse-water { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
@keyframes badge-spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
@keyframes badge-pulse-earth { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
@keyframes badge-pulse-holy { 0% { transform: scale(1); filter: brightness(1); } 100% { transform: scale(1.2); filter: brightness(1.3); } }
@keyframes badge-pulse-shadow { 0%, 100% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.1); opacity: 0.8; } }

.element-icon-large {
  font-size: 14px;
  line-height: 1;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.7));
}

.element-border-glow {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  z-index: 0;
}

.element-border-fire {
  border: 2px solid rgba(255, 69, 0, 0.7);
  animation: border-fire 0.8s ease-in-out infinite alternate;
}

.element-border-water {
  border: 2px solid rgba(0, 191, 255, 0.7);
  animation: border-water 2s ease-in-out infinite;
}

.element-border-wind {
  border: 2px solid rgba(50, 205, 50, 0.7);
  animation: border-wind 1.5s ease-in-out infinite;
}

.element-border-earth {
  border: 2px solid rgba(139, 69, 19, 0.7);
  animation: border-earth 2.5s ease-in-out infinite;
}

.element-border-holy {
  border: 2px solid rgba(255, 215, 0, 0.8);
  animation: border-holy 1s ease-in-out infinite alternate;
}

.element-border-shadow {
  border: 2px solid rgba(153, 50, 204, 0.7);
  animation: border-shadow 2s ease-in-out infinite;
}

@keyframes border-fire { 0% { border-color: rgba(255, 69, 0, 0.6); } 100% { border-color: rgba(255, 140, 0, 1); } }
@keyframes border-water { 0%, 100% { border-color: rgba(0, 191, 255, 0.6); } 50% { border-color: rgba(30, 144, 255, 1); } }
@keyframes border-wind { 0%, 100% { border-color: rgba(50, 205, 50, 0.6); } 50% { border-color: rgba(100, 255, 100, 1); } }
@keyframes border-earth { 0%, 100% { border-color: rgba(139, 69, 19, 0.6); } 50% { border-color: rgba(205, 133, 63, 1); } }
@keyframes border-holy { 0% { border-color: rgba(255, 215, 0, 0.7); } 100% { border-color: rgba(255, 255, 100, 1); } }
@keyframes border-shadow { 0%, 100% { border-color: rgba(153, 50, 204, 0.6); } 50% { border-color: rgba(186, 85, 211, 1); } }

@keyframes fire-dance {
  0% { opacity: 0.8; transform: scaleY(1); }
  100% { opacity: 1; transform: scaleY(1.1); }
}

@keyframes flame-rise {
  0% { transform: translateY(5%) scaleX(0.9); opacity: 0.7; }
  100% { transform: translateY(-5%) scaleX(1.1); opacity: 1; }
}

@keyframes flame-flicker {
  0% { transform: translateX(-50%) scale(1); opacity: 0.8; }
  100% { transform: translateX(-50%) scale(1.2); opacity: 1; }
}

@keyframes water-shimmer {
  0%, 100% { opacity: 0.7; }
  50% { opacity: 1; }
}

@keyframes water-ripple {
  0% { transform: translateY(0); opacity: 0.3; }
  100% { transform: translateY(16px); opacity: 0.6; }
}

@keyframes water-drop {
  0%, 100% { transform: translateY(0); opacity: 0.8; }
  50% { transform: translateY(5px); opacity: 1; }
}

@keyframes wind-spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes wind-pulse {
  0%, 100% { opacity: 0.5; }
  50% { opacity: 0.8; }
}

@keyframes wind-ring {
  0% { transform: scale(0.8); opacity: 0.8; }
  100% { transform: scale(1.2); opacity: 0; }
}

@keyframes earth-pulse {
  0%, 100% { opacity: 0.5; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.02); }
}

@keyframes holy-glow {
  0% { opacity: 0.6; }
  100% { opacity: 1; }
}

@keyframes holy-rays {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes holy-sparkle {
  0% { transform: translateX(-50%) scale(1); opacity: 0.7; }
  100% { transform: translateX(-50%) scale(1.3); opacity: 1; }
}

@keyframes shadow-throb {
  0%, 100% { opacity: 0.7; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.05); }
}

@keyframes shadow-swirl {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes shadow-eye {
  0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.8; }
  50% { transform: translate(-50%, -50%) scale(1.1); opacity: 1; }
}

.god-piece-aura {
  position: absolute;
  inset: -8px;
  border-radius: 50%;
  pointer-events: none;
  z-index: 0;
  animation: god-aura-breathe 3s ease-in-out infinite;
}

@keyframes god-aura-breathe {
  0%, 100% { transform: scale(0.95); opacity: 0.5; }
  50% { transform: scale(1.1); opacity: 0.8; }
}

.element-piece {
  transition: box-shadow 0.3s ease, transform 0.2s ease;
}

.element-piece:hover {
  filter: brightness(1.15);
}

.element-piece-fire:hover { box-shadow: 0 0 35px #ff4500, 0 0 70px rgba(255, 69, 0, 0.8), 0 0 100px rgba(255, 100, 0, 0.5) !important; }
.element-piece-water:hover { box-shadow: 0 0 35px #00bfff, 0 0 70px rgba(0, 191, 255, 0.8), 0 0 100px rgba(30, 144, 255, 0.5) !important; }
.element-piece-wind:hover { box-shadow: 0 0 35px #32cd32, 0 0 70px rgba(50, 205, 50, 0.8), 0 0 100px rgba(0, 255, 0, 0.5) !important; }
.element-piece-earth:hover { box-shadow: 0 0 35px #cd853f, 0 0 70px rgba(205, 133, 63, 0.8), 0 0 100px rgba(139, 69, 19, 0.5) !important; }
.element-piece-holy:hover { box-shadow: 0 0 40px #ffd700, 0 0 80px rgba(255, 215, 0, 0.9), 0 0 120px rgba(255, 255, 100, 0.6) !important; }
.element-piece-shadow:hover { box-shadow: 0 0 35px #9932cc, 0 0 70px rgba(153, 50, 204, 0.8), 0 0 100px rgba(75, 0, 130, 0.5) !important; }

.chess-piece[data-piece-type="king"],
.chess-piece[data-piece-type="queen"],
.chess-piece[data-piece-type="rook"],
.chess-piece[data-piece-type="bishop"],
.chess-piece[data-piece-type="knight"] {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
}

.chess-piece[data-piece-type="pawn"] {
  opacity: 0.88;
}

.matchup-pulse-advantage {
  animation: matchup-advantage-pulse 1.2s ease-in-out infinite !important;
}

.matchup-pulse-disadvantage {
  animation: matchup-disadvantage-pulse 1.2s ease-in-out infinite !important;
}

.matchup-pulse-mutual {
  animation: matchup-mutual-pulse 1.2s ease-in-out infinite !important;
}

@keyframes matchup-advantage-pulse {
  0%, 100% { 
    outline-color: rgba(34, 197, 94, 0.6);
    box-shadow: 0 0 15px rgba(34, 197, 94, 0.6), 0 0 30px rgba(34, 197, 94, 0.3), inset 0 0 10px rgba(34, 197, 94, 0.2);
  }
  50% { 
    outline-color: rgba(34, 197, 94, 1);
    box-shadow: 0 0 25px rgba(34, 197, 94, 1), 0 0 50px rgba(34, 197, 94, 0.7), 0 0 70px rgba(34, 197, 94, 0.4), inset 0 0 20px rgba(34, 197, 94, 0.4);
  }
}

@keyframes matchup-disadvantage-pulse {
  0%, 100% {
    outline-color: rgba(239, 68, 68, 0.6);
    box-shadow: 0 0 15px rgba(239, 68, 68, 0.6), 0 0 30px rgba(239, 68, 68, 0.3), inset 0 0 10px rgba(239, 68, 68, 0.2);
  }
  50% {
    outline-color: rgba(239, 68, 68, 1);
    box-shadow: 0 0 25px rgba(239, 68, 68, 1), 0 0 50px rgba(239, 68, 68, 0.7), 0 0 70px rgba(239, 68, 68, 0.4), inset 0 0 20px rgba(239, 68, 68, 0.4);
  }
}

@keyframes matchup-mutual-pulse {
  0%, 100% {
    outline-color: rgba(192, 132, 252, 0.6);
    box-shadow: 0 0 15px rgba(192, 132, 252, 0.6), 0 0 30px rgba(192, 132, 252, 0.3), inset 0 0 10px rgba(192, 132, 252, 0.2);
  }
  50% {
    outline-color: rgba(192, 132, 252, 1);
    box-shadow: 0 0 25px rgba(192, 132, 252, 1), 0 0 50px rgba(192, 132, 252, 0.7), 0 0 70px rgba(192, 132, 252, 0.4), inset 0 0 20px rgba(192, 132, 252, 0.4);
  }
}

@media (prefers-reduced-motion: reduce) {
  .element-image-bg,
  .element-effect-layer,
  .element-effect-fire,
  .element-effect-water,
  .element-effect-wind,
  .element-effect-earth,
  .element-effect-holy,
  .element-effect-shadow,
  .element-effect-fire::before,
  .element-effect-fire::after,
  .element-effect-water::before,
  .element-effect-water::after,
  .element-effect-wind::before,
  .element-effect-wind::after,
  .element-effect-earth::before,
  .element-effect-holy::before,
  .element-effect-holy::after,
  .element-effect-shadow::before,
  .element-effect-shadow::after,
  .element-badge-large,
  .element-border-glow,
  .matchup-pulse-advantage,
  .matchup-pulse-disadvantage,
  .matchup-pulse-mutual {
    animation: none !important;
  }
}
